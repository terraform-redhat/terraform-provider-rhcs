---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "rhcs_hcp_machine_pool Resource - terraform-provider-rhcs"
subcategory: ""
description: |-
  Machine pool.
---

# rhcs_hcp_machine_pool (Resource)

Machine pool.

## Example Usage

```terraform
resource "rhcs_hcp_machine_pool" "machine_pool" {
  cluster  = "cluster-id-123"
  name     = "my-pool"
  replicas = 1
  autoscaling = {
    enabled = false
  }
  subnet_id = "subnet-id-1"
  aws_node_pool = {
    instance_type = "m5.xlarge"
  }
  auto_repair = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `auto_repair` (Boolean) Indicates use of autor repair for the pool
- `autoscaling` (Attributes) Basic autoscaling options (see [below for nested schema](#nestedatt--autoscaling))
- `aws_node_pool` (Attributes) AWS settings for node pool (see [below for nested schema](#nestedatt--aws_node_pool))
- `cluster` (String) Identifier of the cluster. After the creation of the resource, it is not possible to update the attribute value.
- `name` (String) Name of the machine pool. Must consist of lower-case alphanumeric characters or '-', start and end with an alphanumeric character. After the creation of the resource, it is not possible to update the attribute value.
- `subnet_id` (String) Select the subnet in which to create a single AZ machine pool for BYO-VPC cluster. After the creation of the resource, it is not possible to update the attribute value.

### Optional

- `ignore_deletion_error` (Boolean) Indicates to the provider to disregard API errors when deleting the machine pool. This will remove the resource from the management file, but not necessirely delete the underlying pool in case it errors. Setting this to true can bypass issues when destroying the cluster resource alongside the pool resource in the same management file. This is not recommended to be set in other use cases
- `kubelet_configs` (String) Name of the kubelet config applied to the machine pool. A single kubelet config is allowed. Kubelet config must already exist.
- `labels` (Map of String) Labels for the machine pool. Format should be a comma-separated list of 'key = value'. This list will overwrite any modifications made to node labels on an ongoing basis.
- `replicas` (Number) The number of machines in the pool. Single zone clusters need at least 2 nodes, multizone clusters need at least 3 nodes. The maximum is 250 for cluster versions prior to 4.14.0-0.a, and 500 for cluster versions 4.14.0-0.a and later.
- `taints` (Attributes List) Taints for a machine pool. Format should be a comma-separated list of 'key=value'. This list will overwrite any modifications made to node taints on an ongoing basis. (see [below for nested schema](#nestedatt--taints))
- `tuning_configs` (List of String) A list of tuning configs attached to the pool.
- `upgrade_acknowledgements_for` (String) Indicates acknowledgement of agreements required to upgrade the cluster version between minor versions (e.g. a value of "4.12" indicates acknowledgement of any agreements required to upgrade to OpenShift 4.12.z from 4.11 or before).
- `version` (String) Desired version of OpenShift for the machine pool, for example '4.11.0'. If version is greater than the currently running version, an upgrade will be scheduled.

### Read-Only

- `availability_zone` (String) Select the availability zone in which to create a single AZ machine pool for a multi-AZ cluster. After the creation of the resource, it is not possible to update the attribute value.
- `current_version` (String) The currently running version of OpenShift on the machine pool, for example '4.11.0'.
- `id` (String) Unique identifier of the machine pool.
- `status` (Attributes) HCP replica status (see [below for nested schema](#nestedatt--status))

<a id="nestedatt--autoscaling"></a>
### Nested Schema for `autoscaling`

Required:

- `enabled` (Boolean) Enables autoscaling. If `true`, this variable requires you to set a maximum and minimum replicas range using the `max_replicas` and `min_replicas` variables.

Optional:

- `max_replicas` (Number) The maximum number of replicas for autoscaling functionality.The maximum is 250 for cluster versions prior to 4.14.0-0.a, and 500 for cluster versions 4.14.0-0.a and later.
- `min_replicas` (Number) The minimum number of replicas for autoscaling functionality.Single zone clusters need at least 2 nodes, multizone clusters need at least 3 nodes.


<a id="nestedatt--aws_node_pool"></a>
### Nested Schema for `aws_node_pool`

Required:

- `instance_type` (String) Identifier of the machine type used by the nodes, for example `m5.xlarge`. Use the `rhcs_machine_types` data source to find the possible values. After the creation of the resource, it is not possible to update the attribute value.

Optional:

- `additional_security_group_ids` (List of String) Additional security group ids. After the creation of the resource, it is not possible to update the attribute value.
- `capacity_reservation_id` (String) The ID of the AWS Capacity Reservation to use for the node pool. Cannot be set when autoscaling is enabled. After the creation of the resource, it is not possible to update the attribute value.
- `disk_size` (Number) Root disk size, in GiB. After the creation of the resource, it is not possible to update the attribute value.
- `ec2_metadata_http_tokens` (String) This value determines which EC2 Instance Metadata Service mode to use for EC2 instances in the nodes.This can be set as `optional` (IMDS v1 or v2) or `required` (IMDSv2 only). This feature is available from After the creation of the resource, it is not possible to update the attribute value.
- `tags` (Map of String) Apply user defined tags to all machine pool resources created in AWS.After the creation of the resource, it is not possible to update the attribute value.

Read-Only:

- `instance_profile` (String) Instance profile attached to the replica


<a id="nestedatt--taints"></a>
### Nested Schema for `taints`

Required:

- `key` (String) Taints key
- `schedule_type` (String) Taints schedule type
- `value` (String) Taints value


<a id="nestedatt--status"></a>
### Nested Schema for `status`

Read-Only:

- `current_replicas` (Number) The current number of replicas.
- `message` (String) Message regarding status of the replica
